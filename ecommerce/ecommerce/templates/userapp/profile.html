{% extends 'main_page.html' %}

{% block title %} Profile Page {% endblock title %}

{% block body_content %}

    <div class="row">
        <div class="col-3"></div>
        <div class="col-md-6 col-12">
            {% if profile_details %}
                {% for profile in profile_details %}


                <div class="col-lg-9 mt-15">
                    <div class="card mb-10">
                        {% if profile.profile_passport %}
                            <img class="card-img img-fluid" src="{{profile.profile_passport.url}}" alt="card image cap" id="product_details">
                        {% else %}
                            <i class="fas fa-user fa-lg fa-fw text-dark me-2"></i>
                        {% endif %}

                    </div>

                </div>
                <div class="card-body">
                    <h5>{% if profile.staff == 1 %}Staff ID: {% else %}Customer ID:{% endif %}
                    <span style='color:#0e399c' class="font-weight-bold">
                        ECMO{{ profile.user_id}}
                    </span>
                    </h5>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Full name:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.phone}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Email:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.user.email}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Address:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.address}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Gender:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.gender}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>State:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.state}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Nationality:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.nationality}}
                                </span>
                            </h5>
                    
                    {% if profile.staff %}
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Marital status:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.marital_status}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Means of Identity:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.means_of_identity}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Particulars:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.particulars}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Position:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.position}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    <div class="card" style="width: 40rem;">
                        <div class="card-body">
                            <h5>Department:
                                <span style='color:#0e399c' class="font-weight-bold">
                                    {{ profile.department}}
                                </span>
                            </h5>
                        </div>
                    </div>
                    {% endif %}

                    <div class="field">
                        <label class="label">Status</label>
                        <div class="control">

                            <span style='color:#0e399c' class="font-weight-bold">
                                {{profile.status}} {% if profile.staff == 1 %}Staff {% else %}Customer{% endif %}
                            </span>
                        </div>
                    </div>
                    <hr>
                {% if request.user.is_staff or request.user.is_superuser %}
                <div class="row pb-3">
                    <div class="col">
                        <a href="{% url 'user_edit_profile' profile.user_id %}">
                            <button type="submit" class="btn btn-success btn-lg" name="submit" value="addtocard">Edit Profile</button>
                        </a>
                        <a href="{% url 'my_profile' profile.user_id %}">
                            <button type="submit" class="btn btn-danger btn-lg" name="submit" value="addtocard">
                                {% if profile.user.is_active == 1 %}

                                Deactivate

                                {% else %}

                                Activate

                                {% endif %}
                            </button>
                        </a>
                    </div>
                </div>
            {% endif %}

        {% endfor %}

    {% endif %}   
    <!-- </div> -->

{% endblock body_content %}